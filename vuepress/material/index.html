<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>物料指南 | GongJS</title>
    <meta name="description" content="Talk is cheap. Show me the code.">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.d11e3aca.css" as="style"><link rel="preload" href="/assets/js/app.ec6b33b5.js" as="script"><link rel="preload" href="/assets/js/39.ecc007ac.js" as="script"><link rel="prefetch" href="/assets/js/2.86671cdf.js"><link rel="prefetch" href="/assets/js/3.0caab080.js"><link rel="prefetch" href="/assets/js/4.00ccf4fe.js"><link rel="prefetch" href="/assets/js/5.02970db1.js"><link rel="prefetch" href="/assets/js/6.bd367c89.js"><link rel="prefetch" href="/assets/js/7.788a7119.js"><link rel="prefetch" href="/assets/js/8.f73ebcf0.js"><link rel="prefetch" href="/assets/js/9.66b5a5d2.js"><link rel="prefetch" href="/assets/js/10.86098aa0.js"><link rel="prefetch" href="/assets/js/11.822b3671.js"><link rel="prefetch" href="/assets/js/12.eff3e382.js"><link rel="prefetch" href="/assets/js/13.7d70d8ee.js"><link rel="prefetch" href="/assets/js/14.92682225.js"><link rel="prefetch" href="/assets/js/15.fa351a0c.js"><link rel="prefetch" href="/assets/js/16.099c24a8.js"><link rel="prefetch" href="/assets/js/17.54d4624c.js"><link rel="prefetch" href="/assets/js/18.a798d32d.js"><link rel="prefetch" href="/assets/js/19.129cc470.js"><link rel="prefetch" href="/assets/js/20.725f29cc.js"><link rel="prefetch" href="/assets/js/21.e0b0aabe.js"><link rel="prefetch" href="/assets/js/22.d38c23a9.js"><link rel="prefetch" href="/assets/js/23.2a8a85fe.js"><link rel="prefetch" href="/assets/js/24.0ae907ec.js"><link rel="prefetch" href="/assets/js/25.9c4832fb.js"><link rel="prefetch" href="/assets/js/26.485e3694.js"><link rel="prefetch" href="/assets/js/27.477829a3.js"><link rel="prefetch" href="/assets/js/28.e7d9065f.js"><link rel="prefetch" href="/assets/js/29.8c7f8f5d.js"><link rel="prefetch" href="/assets/js/30.cee47b27.js"><link rel="prefetch" href="/assets/js/31.7c3bd45e.js"><link rel="prefetch" href="/assets/js/32.6fe0ef12.js"><link rel="prefetch" href="/assets/js/33.4765629e.js"><link rel="prefetch" href="/assets/js/34.f815ee86.js"><link rel="prefetch" href="/assets/js/35.0a96ed59.js"><link rel="prefetch" href="/assets/js/36.cde069ea.js"><link rel="prefetch" href="/assets/js/37.d232fecd.js"><link rel="prefetch" href="/assets/js/38.3b4b7130.js"><link rel="prefetch" href="/assets/js/40.2fb65380.js"><link rel="prefetch" href="/assets/js/41.0236eb4b.js"><link rel="prefetch" href="/assets/js/42.112a188f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d11e3aca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">GongJS</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/" class="nav-link">vuepress</a></li><li class="dropdown-item"><!----> <a href="/koa2/" class="nav-link">koa2</a></li><li class="dropdown-item"><!----> <a href="/JS/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/ES6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/js-cli/" class="nav-link">js-cli 脚手架</a></li><li class="dropdown-item"><!----> <a href="/material/" class="nav-link router-link-exact-active router-link-active">物料平台</a></li></ul></div></div><div class="nav-item"><a href="/project/" class="nav-link">Project</a></div><div class="nav-item"><a href="/friends/" class="nav-link">Friends</a></div><div class="nav-item"><a href="/essay/" class="nav-link">随笔</a></div> <a href="https://github.com/gongjs/Vue_Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Blog</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress/" class="nav-link">vuepress</a></li><li class="dropdown-item"><!----> <a href="/koa2/" class="nav-link">koa2</a></li><li class="dropdown-item"><!----> <a href="/JS/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/css/" class="nav-link">CSS</a></li><li class="dropdown-item"><!----> <a href="/ES6/" class="nav-link">ES6</a></li><li class="dropdown-item"><!----> <a href="/js-cli/" class="nav-link">js-cli 脚手架</a></li><li class="dropdown-item"><!----> <a href="/material/" class="nav-link router-link-exact-active router-link-active">物料平台</a></li></ul></div></div><div class="nav-item"><a href="/project/" class="nav-link">Project</a></div><div class="nav-item"><a href="/friends/" class="nav-link">Friends</a></div><div class="nav-item"><a href="/essay/" class="nav-link">随笔</a></div> <a href="https://github.com/gongjs/Vue_Blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div class="carbon-ads"></div> <!----> </div> <div id="area" class="page"> <div class="content"><h1 id="物料指南"><a href="#物料指南" aria-hidden="true" class="header-anchor">#</a> 物料指南</h1> <p>快速了解 <code>Agora</code> 物料概念，创建你的第一个物料。</p> <blockquote><p>Agora 物料平台 服务于前端技术团队，致力于增强团队协作、促进资源共享、提升开发效率，并提供了简单易学的物料开发方案。</p></blockquote> <h2 id="何为物料"><a href="#何为物料" aria-hidden="true" class="header-anchor">#</a> 何为物料</h2> <p>在中后台项目开发中，我们早已习惯了使用 UI 组件库提升开发效率。基础的 UI 组件库极大降低了界面开发成本，但此类组件通常都是一些与业务逻辑完全解耦的原子组件，不能完全满足复杂的业务场景。</p> <p>实际项目中包含了大量的可以复用的业务逻辑强耦合的模块，例如站点导航条、员工选择器。如何在团队内部最大程度复用基础业务模块以提升效率、降低冗余？物料的概念就是为了解决这一问题，将基础业务模块从项目之中抽离，统一维护，它们便可以被称为「物料」。</p> <blockquote><p>摘自 <code>ArcoDesign</code></p></blockquote> <h2 id="物料分类"><a href="#物料分类" aria-hidden="true" class="header-anchor">#</a> 物料分类</h2> <p>在 Agora 的物料体系中，我们将物料细分为了三个种类：组件、区块、页面。</p> <h3 id="组件"><a href="#组件" aria-hidden="true" class="header-anchor">#</a> 组件</h3> <p>组件的概念与 Agora 提供的基础组件最为接近，它们是页面的基础元素构成，但是可能与业务逻辑产生了耦合。使用方式与组件库保持一致，通过引入 NPM 依赖来引用组件。</p> <h3 id="区块"><a href="#区块" aria-hidden="true" class="header-anchor">#</a> 区块</h3> <p>区块相比组件更为复杂，可以理解为多个组件的集合。一个页面通常由若干个区块组成，开发者可以将区块添加到自己的页面进行二次开发。由于区块的复杂性和二次开发的需求存在，区块使用方式与组件不同，本质上是将区块的源码直接下载到本地项目之中。</p> <h3 id="页面"><a href="#页面" aria-hidden="true" class="header-anchor">#</a> 页面</h3> <p>页面即其字面意思，使用方式与区块类似。</p> <h2 id="js-cli"><a href="#js-cli" aria-hidden="true" class="header-anchor">#</a> js-cli</h2> <p>为了方便开发者快速搭建物料项目、管理使用物料。Agora 提供了基于 Node 的脚手架工具 <code>js-cli</code>，它大致包含了以下的功能：</p> <ul><li>根据模板创建基于 Agora 的物料项目；</li> <li>发布、管理、使用物料；</li> <li>在项目中使用物料区块或者页面；
在开始进一步的流程体验之前，你需要通过 <code>npm i @js-cli/core -g</code> 全局安装 <code>js-cli</code>。</li></ul> <h2 id="添加物料"><a href="#添加物料" aria-hidden="true" class="header-anchor">#</a> 添加物料</h2> <p>运行 <code>js-cli init</code> 添加我们的第一个物料，这里需要回答几个关于物料信息的问题。</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/add.69a031a7.png" data-v-2c224345></div> <p>这里我们选择「vue2 模版」，等待物料初始化完成。
<div class="imgWrapper" data-v-2c224345><img src="/assets/img/vue2-template.cdb2a8e5.png" data-v-2c224345></div></p> <h2 id="开发物料"><a href="#开发物料" aria-hidden="true" class="header-anchor">#</a> 开发物料</h2> <p>运行 <code>yarn dev</code> 来开发预览物料。
<div class="imgWrapper" data-v-2c224345><img src="/assets/img/preview.76bb63b1.png" data-v-2c224345></div></p> <h2 id="代码开发"><a href="#代码开发" aria-hidden="true" class="header-anchor">#</a> 代码开发</h2> <p>所有的物料项目都默认采用了 <code>TypeScript</code> 进行开发，在物料开发中我们建议遵循以下约束：</p> <ul><li>提供详细的 API 说明；</li> <li>遵循 semver 版本规范，避免主版本内的破坏式更新；</li> <li>面向所有用户的物料尽量避免与业务逻辑耦合，避免接口调用；</li> <li>尽量避免使用 CSS Modules。如果无法确定用户的技术选型，请保证你开发的物料不会导致意料之外的开发环境错误；</li></ul> <h2 id="demo书写"><a href="#demo书写" aria-hidden="true" class="header-anchor">#</a> Demo书写</h2> <p>请为你的物料提供尽可能详细的用法示例。</p> <p>Demo 的书写位置位于 <code>example</code> 目录下。此目录下的内容会单独打包部署，作为物料的在线预览地址,使用者可在线编辑代码并实时预览效果。
<div class="imgWrapper" data-v-2c224345><img src="/assets/img/demo.1236bd20.gif" data-v-2c224345></div></p> <h2 id="物料文档"><a href="#物料文档" aria-hidden="true" class="header-anchor">#</a> 物料文档</h2> <p>遵循注释即文档的原则，在编写代码时，把对应的注释也补充完整。运行 <code>yarn build:doc</code> 生成文档。
<div class="imgWrapper" data-v-2c224345><img src="/assets/img/doc.5d3520b2.png" data-v-2c224345></div></p> <h2 id="物料封面图"><a href="#物料封面图" aria-hidden="true" class="header-anchor">#</a> 物料封面图</h2> <p>在根目录<code>cover-image</code>文件夹里放置名称为<code>coverImage.png</code>的图片，展示效果如下：</p> <div class="imgWrapper" data-v-2c224345><img src="/assets/img/coverImage.f3683024.png" data-v-2c224345></div>
左边为用户上传的封面图，右边为物料平台默认的展示图。
<h2 id="构建"><a href="#构建" aria-hidden="true" class="header-anchor">#</a> 构建</h2> <p>运行 <code>yarn build</code> 进行打包构建，生成的产物有:</p> <ul><li><code>dist</code> 物料源码</li> <li><code>example/dist</code> 物料预览网站源码</li> <li><code>README.md</code> 说明文档</li></ul> <h2 id="物料发布"><a href="#物料发布" aria-hidden="true" class="header-anchor">#</a> 物料发布</h2> <p>在根目录下运行 <code>js-cli publish --prod</code> 发布物料，如果是第一次发布需要填写一些发布信息。
<div class="imgWrapper" data-v-2c224345><img src="/assets/img/publish.e467ec3d.png" data-v-2c224345></div>
发布过程中，若远程仓库不存在，则会自动创建，并根据当前版本号创建开发分支。
发布结束后，会给本次发布内容打上对应的 <code>tag</code>, 删除远程开发分支和本地开发分支。
<div class="imgWrapper" data-v-2c224345><img src="/assets/img/tag.be7a821c.png" data-v-2c224345></div></p> <blockquote><p>注意，在发布到 <code>npm</code> 请确保已经使用 <code>npm login</code> 登录过 npm。
<code>--prod</code> 表示将物料发布到 <code>npm</code>，若不加此参数，则只发布到物料平台。e</p></blockquote></div> <div class="page-edit"><!----> <!----></div> <!----> <div class="bsa-cpc-wrapper"><div class="bsa-cpc"></div></div> <!----></div> <!----></div></div>
    <script src="/assets/js/39.ecc007ac.js" defer></script><script src="/assets/js/app.ec6b33b5.js" defer></script>
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c3446600de53c605ba4f6c792e47dff9";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  </body>
</html>
